<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <title>Document</title>
</head>
<body>
   <div class="">
       <div class="jumbotron text-center" style="background-color: #24292e; color: #fff; padding: 15px;">
           <h1 style="font-size: 3em;">Github Top Repositories</h1>
       </div>

       <div class="container" style="width: 60%;">
            <h2 style="margin-bottom: 30px;">Input Organisation Details</h2>
            <form action="/" method="GET">
                <div class="form-group">
                    <label for="usr">Github Profile Name:</label>
                    <input type="text" class="form-control" name="uname" required>
                </div>

                <div class="form-group">
                    <label for="pwd">Top Repos Count (n):</label>
                    <input type="number" min="1" max="15" class="form-control" name="top_repos" required>
                </div>

                <div class="form-group">
                    <label for="pwd">Top Commiters Count (m):</label>
                    <input type="number" min="1" max="1000" class="form-control" name="top_commiters" required>
                </div>

                  <input type="submit" class="btn btn-info" value="Submit">
            </form>
            <hr>
                
            {% if check %}
                <h2>{{organisation}}</h2>      
                <table class="table table-striped">
                    <thead>
                    <tr>
                        
                        <th>Repo Name</th>
                        <th>Forks</th>
                    </tr>
                    </thead>
                    
                        <tbody>
                            {% for name1 in data %}
                                
                                    <tr>
                                        <td><a href="#" style="text-decoration: none;"> {{ name1.name }} </a></td>
                                        <td>{{ name1.forks }}</td>
                                    </tr>
                            
                                
                            {% endfor %}
                        </tbody>
                </table>

                <br>
                <br>
                <h2>Contributers</h2>
                <hr>

                {% for repo in contribute %}
                <h3> {{ repo.repoName }} </h3>
                <table class="table table-striped">
                    <thead>
                    <tr>
                        
                        <th>Userame</th>
                        <th>Commits</th>
                        <th>Profile URL</th>
                    </tr>
                    </thead>
                    
                        <tbody>
                            {% for profile in repo.values %}
                                <tr>
                                    <td>{{profile.name}}</td>
                                    <td>{{profile.num}}</td>
                                    <td> <a href= {{ profile.url }} style="text-decoration: none;"> {{ profile.url }} </a></td>
                                </tr>
                            {% endfor %}   
                                
                            
                        </tbody>
                </table>
                <hr>
                {% endfor %}
            
            {% else %}
                <div class="alert alert-danger" role="alert">
                    Repository Doesn't Exist!
                </div>
            {% endif %}



      </div>

   </div> 
   <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
</body>
</html>
